<mat-card class="map">
  <mat-card-header class="map__label">
    <h2>Адреса</h2>
  </mat-card-header>
  <div class="actions">
    <app-point-selector (selectPoint)="showPointWithMarkers($event)"></app-point-selector>
  </div>
  <agm-map
    *ngIf="state && state.target"
    [latitude]="state.target.latitude"
    [longitude]="state.target.longitude"
    [zoom]="state.target.zoom"
  >
    <agm-marker
      *ngFor="let marker of state.markers"
      [latitude]="marker.latitude"
      [longitude]="marker.longitude"
      [iconUrl]="icon"
    ></agm-marker>
    <agm-marker
      *ngIf="state.markers.length === 0"
      [latitude]="state.target.latitude"
      [longitude]="state.target.longitude"
      [iconUrl]="icon"
    ></agm-marker>
  </agm-map>
  <div class="map-error" *ngIf="error">
    <mat-icon class="icon">map</mat-icon>Произошла ошибка при отображении
    карты!<br />
    Приносим свои извенения! :(
  </div>
</mat-card>
